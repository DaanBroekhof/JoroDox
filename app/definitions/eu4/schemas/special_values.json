{
  "$schema": "http://json-schema.org/schema#",
  "$id": "http://jorodox.org/schemas/special_values.json",
  "type": "object",
  "definitions": {
    "boolean": {
      "type": "string",
      "enum": ["yes", "no"]
    },
    "any": {
      "type": "string",
      "enum": ["any"]
    },
    "yes": {
      "type": "string",
      "enum": ["yes"]
    },
    "capital": {
      "type": "string",
      "enum": ["CAPITAL", "capital"]
    },
    "emperor": {
      "type": "string",
      "enum": ["emperor"]
    },
    "owner": {
      "type": "string",
      "enum": ["owner"]
    },
    "controller": {
      "type": "string",
      "enum": ["controller"]
    },
    "monarch_power_type": {
      "type": "string",
      "enum": ["ADM", "DIP", "MIL"]
    },
    "date": {
      "type": "string",
      "pattern": "^[0-9]{4}.[0-9]{1,2}.[0-9]{1,2}$"
    },
    "country_scope": {
      "type": "string",
      "enum": ["ROOT", "FROM", "PREV", "THIS", "root", "from", "prev", "this"]
    },
    "dynasty_or_scope": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "string",
          "enum": ["original_dynasty"]
        },
        {
          "$ref": "special_values.json#/definitions/country_scope"
        },
        {
          "$ref": "special_values.json#/definitions/event_target"
        }
      ]
    },
    "culture_or_scope": {
      "anyOf": [
        {
          "$ref": "identifiers.json#/definitions/cultures"
        },
        {
          "$ref": "special_values.json#/definitions/country_scope"
        },
        {
          "$ref": "special_values.json#/definitions/event_target"
        }
      ]
    },
    "religion_or_scope": {
      "anyOf": [
        {
          "$ref": "identifiers.json#/definitions/religions"
        },
        {
          "$ref": "special_values.json#/definitions/country_scope"
        },
        {
          "$ref": "special_values.json#/definitions/event_target"
        }
      ]
    },
    "country_tag_or_scope": {
      "anyOf": [
        {
          "$ref": "identifiers.json#/definitions/country_tags"
        },
        {
          "$ref": "special_values.json#/definitions/country_scope"
        },
        {
          "$ref": "special_values.json#/definitions/emperor"
        },
        {
          "$ref": "special_values.json#/definitions/event_target"
        }
      ]
    },
    "country_tag_or_scope_province": {
      "anyOf": [
        {
          "$ref": "special_values.json#/definitions/country_tag_or_scope"
        },
        {
          "$ref": "special_values.json#/definitions/owner"
        },
        {
          "$ref": "special_values.json#/definitions/controller"
        }
      ]
    },
    "country_tag_empty": {
      "type": "string",
      "enum": ["---"]
    },
    "province_id_or_scope": {
      "anyOf": [
        {
          "$ref": "identifiers.json#/definitions/map_provinces"
        },
        {
          "$ref": "special_values.json#/definitions/province_scope"
        },
        {
          "$ref": "special_values.json#/definitions/event_target"
        }
      ]
    },
    "province_id_or_scope_country": {
      "anyOf": [
        {
          "$ref": "special_values.json#/definitions/province_id_or_scope"
        },
        {
          "$ref": "special_values.json#/definitions/capital"
        }
      ]
    },
    "province_scope": {
      "type": "string",
      "enum": ["ROOT", "FROM", "PREV", "THIS", "root", "from", "prev", "this"]
    },
    "peace_offer_types": {
      "type": "string",
      "enum": [
        "po_demand_provinces",
        "po_revoke_cores",
        "po_release_vassals",
        "po_release_annexed",
        "po_return_cores",
        "po_become_vassal",
        "po_become_tributary_state",
        "po_form_personal_union",
        "po_transfer_vassals"
      ]
    },
    "government_group_or_tribal": {
      "type": "string",
      "enum": ["monarchy", "republic", "theocracy", "tribal"]
    },
    "government_dictatorship": {
      "type": "string",
      "enum": ["dictatorship"]
    },
    "country_or_number": {
      "$mergeProps": [
        {
          "type": "number"
        },
        {
          "$ref": "identifiers.json#/definitions/country_tags"
        },
        {
          "$ref": "special_values.json#/definitions/country_scope"
        }
      ]
    },
    "religion_or_contrast": {
      "$mergeProps": [
        {
          "type": "string",
          "enum": ["heretic", "heathen"]
        },
        {
          "$ref": "identifiers.json#/definitions/religions"
        }
      ]
    },
    "religion_or_secondary": {
      "$mergeProps": [
        {
          "type": "string",
          "enum": ["secondary"]
        },
        {
          "$ref": "identifiers.json#/definitions/religions"
        }
      ]
    },
    "flag_name": {
      "type": "string"
    },
    "save_game_key": {
      "type": "string"
    },
    "leader_types": {
      "type": "string",
      "enum": ["general", "admiral", "conquistador", "explorer"]
    },
    "leader_name": {
      "type": "string"
    },
    "random": {
      "type": "string",
      "enum": ["random"]
    },
    "variable_operation": {
      "anyOf": [
        {"$ref": "special_values.json#/definitions/variable_assign_variable"},
        {"$ref": "special_values.json#/definitions/variable_assign_value"}
      ]
    },
    "variable_assign_variable": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "which": {
          "type": "array",
          "items": [
            {
              "type": "string"
            },
            {
              "type": "string"
            }
          ]
        }
      }
    },
    "variable_assign_value": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "which": {"type": "string"},
        "value": {"type": "number"}
      }
    },
    "variable_arithmetic_trigger": {
      "properties": {
        "custom_tooltip": {
          "type": "string"
        },
        "export_to_variable": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "which": {
              "type": "string"
            },
            "variable_name": {
              "type": "string"
            },
            "value": {
              "type": "string"
            },
            "who": {
              "type": "string"
            }
          }
        },
        "is_variable_equal": {
          "$ref": "special_values.json#/definitions/variable_operation"
        },
        "check_variable": {
          "$ref": "special_values.json#/definitions/variable_operation"
        }
      }
    },
    "new_variable": {
      "type": "string",
      "pattern": "^new_variable:.+$"
    },
    "variable": {
      "type": "string",
      "pattern": "^variable:.+$"
    },
    "new_or_existing_variable": {
      "anyOf": [
        {"$ref": "special_values.json#/definitions/variable"},
        {"$ref": "special_values.json#/definitions/new_variable"}
      ]
    },
    "event_target": {
      "type": "string",
      "pattern": "^event_target:.+$"
    },
    "construction": {
      "type": "string",
      "enum": ["core", "culture", "building", "merchant", "diplomat", "missionary", "army", "navy", "canal", "great_project", "siberian"]
    },
    "ai_attitudes": {
      "type": "string",
      "enum": ["attitude_neutral", "atittude_rivalry", "attitude_hostile", "attitude_friendly", "attitude_defensive", "attitude_threatened", "attitude_outraged", "attitude_protective", "attitude_domineering", "attitude_overlord", "attitude_loyal", "attitude_disloyal", "attitude_rebellious", "attitude_allied"]
    },
    "school_opinion": {
      "type": "number",
      "enum": [-1, 0, 1]
    },
    "advisor_or_simple": {
      "type": "string",
      "enum": ["advisor", "simple"]
    },
    "unit_type": {
      "type": "string",
      "enum": ["infantry", "cavalry", "artillery", "heavy_ship", "light_ship", "galley", "transport"]
    },
    "unit_type_or_unit": {
      "$mergeProps": [
        {
          "$ref": "special_values.json#/definitions/unit_type"

        },
        {
          "$ref": "identifiers.json#/definitions/units"
        }
      ]
    }
  }
}